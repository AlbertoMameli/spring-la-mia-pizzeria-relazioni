<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <title>Edit Offerta</title>
    <th:block th:replace="~{fragments/head :: head}"></th:block>
</head>

<body>
    <main class="container">
        <h1 class="mt-4">Modifica Offerta per: <span th:text="${pizza.name}"></span></h1>

        <form th:action="@{'/offerte/edit/' + ${sconto.id}}" th:object="${sconto}" method="POST">

            <!-- Campo nascosto per ID Pizza -->
            <input type="hidden" th:field="*{pizza.id}" />

            <!-- Titolo -->
            <div class="mb-3">
                <label for="titolo" class="form-label">Titolo offerta</label>
                <input id="titolo" type="text" class="form-control" th:field="*{titolo}" required>
                <div th:if="${#fields.hasErrors('titolo')}" class="text-danger">
                    <p th:each="err : ${#fields.errors('titolo')}" th:text="${err}"></p>
                </div>
            </div>

            <!-- Inizio Offerta -->
            <div class="mb-3">
                <label for="inizioOfferta" class="form-label">Data Inizio</label>
                <input id="inizioOfferta" type="date" class="form-control" th:field="*{inizioOfferta}" required>
                <div th:if="${#fields.hasErrors('inizioOfferta')}" class="text-danger">
                    <p th:each="err : ${#fields.errors('inizioOfferta')}" th:text="${err}"></p>
                </div>
            </div>

            <!-- Fine Offerta -->
            <div class="mb-3">
                <label for="fineOfferta" class="form-label">Data Fine</label>
                <input id="fineOfferta" type="date" class="form-control" th:field="*{fineOfferta}" required>
                <div th:if="${#fields.hasErrors('fineOfferta')}" class="text-danger">
                    <p th:each="err : ${#fields.errors('fineOfferta')}" th:text="${err}"></p>
                </div>
            </div>

            <!-- Pulsanti -->
            <div class="d-flex justify-content-between mt-4">
                <a th:href="@{/pizzas/{id}(id=${pizza.id})}" class="btn btn-secondary">Back</a>
                <button type="submit" class="btn btn-primary">Salva modifiche</button>
            </div>
        </form>
    </main>

    <th:block th:replace="~{fragments/footer :: scripts}"></th:block>
</body>

</html>